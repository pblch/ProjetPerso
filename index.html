<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Site PDF</title>
    <script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>
    <script src="chemin/vers/pdfviewer.js"></script>
</head>

    
<body>

    <header>
        <h1>Bienvenue sur Mon Site PDF</h1>
    </header>

    <main>
        <p>Ce site vous permet de lire des fichiers PDF en ligne.</p>
        
        <!-- Intégration du lecteur PDF -->
        <canvas id="pdfCanvas"></canvas>

        <!-- Formulaire d'upload -->
        <h2>Uploader un PDF</h2>
        <form id="uploadForm">
            <input type="file" id="fileInput" accept=".pdf">

        </form>
    </main>

    <footer>
        <p>© 2024 Mon Site PDF. Tous droits réservés.</p>
    </footer>

    <!-- Script d'upload -->
    <script src="https://cdn.jsdelivr.net/npm/aws-sdk@2"></script>
    <script>
function uploadFile() {
        // Configurer AWS
        AWS.config.update({
            accessKeyId: AKIA4MTWHVIIY6RIFJ43,
            secretAccessKey: 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,
            region: Asie-Pacifique (Singapour) ap-southeast-1
        });

        // Configurer S3
        const s3 = new AWS.S3();

        // Obtenir le fichier sélectionné
        const fileInput = document.getElementById('fileInput');
        const file = fileInput.files[0];

        // Définir le chemin dans S3 (peut être personnalisé selon vos besoins)
        const objectKey = 'uploads/' + file.name;

        // Configuration de l'opération d'upload
        const params = {
            Bucket: pdf-viewer-bucket-2,
            Key: objectKey,
            Body: file
        };

        // Envoyer le fichier vers S3
        s3.upload(params, function (err, data) {
            if (err) {
                console.error(err);
                alert('Erreur lors de l\'envoi du fichier vers S3.');
            } else {
                console.log('Fichier envoyé avec succès:', data);
                alert('Fichier envoyé avec succès vers S3.');
            }
        });
    }    </script>

</body>
</html>
